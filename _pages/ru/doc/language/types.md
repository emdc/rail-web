---
title: Типы
layout: ru/article
permalink: /ru/doc/language/types/
---

## Общая информация

Rail имеет строгую типизацию с возможностью автоматического вывода типов. При этом не будет происходить _никаких_ неявных преобразований. Если автоматически тип не удается вывести, то компилятор выдаст ошибку. Это позволяет сократить количество требуемого кода, при этом не теряя в безопасности. Каждый из базовых типов является объектом, со своими доступными методами и операторами.

Неявное преобразование типов в Rail запрещено в целях безопасности. Если некий тип требуется привести к другому типу, то следует воспользоваться синтаксисом конвертации:

```
let value = type(otherValue);
```

На самом деле в примере произойдет вызов конструктора типа `type`, который выполнит все необходимые преобразования. Для базовых типов такие конвертирующие конструкторы определены в самом компиляторе по умолчанию и их нельзя переопределить.

Автоматический вывод типов происходит на основании того, какой литерал передается в качестве инициирующего значения. Если инициирующего значения нет, то автоматический вывод типов **невозможен**. Например:

```
let value1 = 10; // i32
let value2 = 10.0; // float32
let value3 = true; // bool
let value4 = 'Ξ'; // char
``` 

Как видно из примера выше, символ или строка могут содержать символы юникода. По умолчанию все строки имеют кодировку UTF-8 и именно с ними ведется работа. Если требуется другая кодировка строк, например, ASCII, то строку можно либо конвертировать, либо заранее указать в конструкторе. Более подробно о строках можно прочитать на отдельной [странице](/ru/doc/language/strings).

## Базовые типы

По умолчанию Rail располагает следующими типами:

* Числовые, числовой суффикс означает размерность в битах:
  * `i8`, `i16`, `i32`, `i64` — целочисленные знаковые типы,
  * `u8`, `u16`, `u32`, `u64` — целочисленные беззнаковые типы,
  * `float32`, `float64` — числа с плавающей запятой.
* Остальные типы:
  * `bool` — простой логический тип, который может принимать значения `true` или `false`,
  * `char` — любой символ из UTF-32,
  * `byte` — байт, аналогичен типу `u8`.
  * `object` — объект, тип, от которого неявно унаследованы все другие типы, носит вспомогательный характер.
  * `void` — специальный тип, который используется в функциях для указания отсутствия возвращаемых значений.
  
Типы можно расширить с помощью суффиксов:
  * `*` — означает, что это указатель на тип. Применять необходимо совместно с типом: `i8*`. Может принимать значение `null`
  * `?` — nullable-тип. Ведет себя как обычный тип, но может принимать значение `null`.
  
Допустимы слова-модификаторы, которые пишутся перед типом:
  * `important` — переменную или переменные этого типа нельзя оптимизировать. Анализ оптимальности производиться будет, но результат его просто покажется пользователю. Например: `important i32`.
  * `static` — делает переменную статической в области видимости метода или функции. Статическая переменная — создается один раз и сохраняется на протяжении всей работы программы. Например: `static i32`. **Важно!** Модификатор нельзя применять для констант, так как это лишено смысла.

В таблице ниже перечислены возможные диапазоны значений типов и их размер. Квадратные скобки имеют математический смысл — "включая значение".

| Тип      | Размер, байт | Допустимые значения                                      |
|----------|--------------|----------------------------------------------------------|
| i8       | 1            | [-128, 127]                                              |
| i16      | 2            | [-32 768, 32 767]                                        |
| i32      | 4            | [-2 147 483 648, 2 147 483 647]	                         |
| i64      | 8            | [-9 223 372 036 854 775 808, 9 223 372 036 854 775 807]  |
| u8       | 1            | [0, 255]                                                 |
| u16      | 2            | [0, 65 535]                                              |
| u32      | 4            | [0, 4 294 967 295]                                       |
| u64      | 8            | [0, 18 446 744 073 709 551 615]                          |
| float32  | 4            | [-3.402823466e+38, 3.402823466e+38]                      |
| float64  | 8            | [-1.7976931348623158e+308, 1.7976931348623158e+308 ]     |
| bool     | 1            | true, false                                              |
| char     | 4            | любой символ из UTF-32                                   |
| byte     | 1            | [0, 255]                                                 |

Другие типы являются составными из базовых, перечисленных выше:

* `[type]` — массив, содержащий значения `type`,
* `(type1 [, type2, ...])` — кортеж, может содержать различные типы: `type1`, `type2`, `typeN`.
* `string` — строка, по умолчанию используется кодировка UTF-8. Почему строки используют по умолчанию UTF-8, а символ только в UTF-32 рассказывается в разделе о [строках](/ru/doc/language/strings).

## Группы типов

```
types-group Numeral [
  i8,
  i16,
  i32,
  i64,
  u8,
  u16,
  u32,
  u64,
  float32,
  float64
]
```

Группы типов можно использовать для удобной перегрузки методов, использования в шаблонах или иных ситуациях, где может потребоваться выбор из некого набора типов. Использовать группу типов в качестве типа переменной нельзя.

```
fn square(arg :Numeral) :Numeral -> arg * arg;

fn foo(arg :<T>) :<T> where T is Numeral {
  // код
}
```

## Методы и свойства базовых типов

Каждый тип предоставляет свои методы и свойства, которые позволяют во время компиляции или во время выполнения получить дополнительную информацию, такую как название переменной или константы, ее тип, размер, граничные значения и т.д. Часть методов и свойств предоставляются типом `object`. Базовые свойства, доступные всем:

* `name` — название переменной или константы;
* `type` — возвращает сам тип, который можно использовать для создания новых переменных или констант;
* `typeName` — возвращает имя типа;
* `sizeBytes` — размер контейнера в байтах.
